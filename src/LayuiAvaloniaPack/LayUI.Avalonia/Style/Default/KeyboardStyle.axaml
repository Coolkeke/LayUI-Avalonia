<Styles
    xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:lay="clr-namespace:LayUI.Avalonia.Controls">
    <Design.PreviewWith>
        <Border Padding="20">
            <StackPanel>
                <lay:LayTextBox
                    Height="40"
                    Margin="0,10"
                    IsFocus="True" />
                <lay:LayKeyboard IsCapital="True" />
            </StackPanel>
        </Border>
    </Design.PreviewWith>
    <Style Selector="lay|LayKeyboard">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate>
                    <Border
                        Padding="{TemplateBinding Padding}"
                        Background="{TemplateBinding Background}"
                        BorderBrush="{TemplateBinding BorderBrush}"
                        BorderThickness="{TemplateBinding BorderThickness}"
                        CornerRadius="{TemplateBinding CornerRadius}"
                        Focusable="{TemplateBinding Focusable}">
                        <Grid x:Name="PART_KeysRoot" Focusable="{TemplateBinding Focusable}">
                            <Grid.RowDefinitions>
                                <RowDefinition />
                                <RowDefinition />
                                <RowDefinition />
                                <RowDefinition />
                                <RowDefinition />
                            </Grid.RowDefinitions>
                            <ItemsControl Focusable="{TemplateBinding Focusable}">
                                <ItemsControl.ItemsPanel>
                                    <ItemsPanelTemplate>
                                        <Grid Focusable="{TemplateBinding Focusable}">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                        </Grid>
                                    </ItemsPanelTemplate>
                                </ItemsControl.ItemsPanel>
                                <lay:LayButton
                                    Grid.ColumnSpan="2"
                                    BorderThickness="1"
                                    DataContext="{Binding Source={x:Static Key.Escape}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Type="Default">
                                    <Grid Margin="4" DataContext="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsCapital, Mode=TwoWay}">
                                        <TextBlock
                                            Grid.Row="1"
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Center"
                                            Text="Esc" />
                                    </Grid>
                                </lay:LayButton>
                                <lay:LayButton
                                    Grid.Column="2"
                                    Grid.ColumnSpan="2"
                                    BorderThickness="1"
                                    CommandParameter="~|`"
                                    DataContext="{Binding Source={x:Static Key.Escape}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Type="Default">
                                    <Grid Margin="4" DataContext="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsCapital, Mode=TwoWay}">
                                        <Grid.RowDefinitions>
                                            <RowDefinition />
                                            <RowDefinition />
                                        </Grid.RowDefinitions>
                                        <TextBlock
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Center"
                                            Text="~" />
                                        <TextBlock
                                            Grid.Row="1"
                                            HorizontalAlignment="Center"
                                            Text="`" />
                                    </Grid>
                                </lay:LayButton>
                                <lay:LayButton
                                    Grid.Column="4"
                                    Grid.ColumnSpan="2"
                                    BorderThickness="1"
                                    CommandParameter="!|1"
                                    DataContext="{Binding Source={x:Static Key.D1}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Type="Default">
                                    <Grid Margin="4" DataContext="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsCapital, Mode=TwoWay}">
                                        <Grid.RowDefinitions>
                                            <RowDefinition />
                                            <RowDefinition />
                                        </Grid.RowDefinitions>
                                        <TextBlock
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Center"
                                            Text="!" />
                                        <TextBlock
                                            Grid.Row="1"
                                            HorizontalAlignment="Center"
                                            Text="1" />
                                    </Grid>
                                </lay:LayButton>
                                <lay:LayButton
                                    Grid.Column="6"
                                    Grid.ColumnSpan="2"
                                    BorderThickness="1"
                                    CommandParameter="@|2"
                                    DataContext="{Binding Source={x:Static Key.D2}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Type="Default">
                                    <Grid Margin="4" DataContext="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsCapital, Mode=TwoWay}">
                                        <Grid.RowDefinitions>
                                            <RowDefinition />
                                            <RowDefinition />
                                        </Grid.RowDefinitions>
                                        <TextBlock
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Center"
                                            Text="@" />
                                        <TextBlock
                                            Grid.Row="1"
                                            HorizontalAlignment="Center"
                                            Text="2" />
                                    </Grid>
                                </lay:LayButton>
                                <lay:LayButton
                                    Grid.Column="8"
                                    Grid.ColumnSpan="2"
                                    BorderThickness="1"
                                    CommandParameter="#|3"
                                    DataContext="{Binding Source={x:Static Key.D3}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Type="Default">
                                    <Grid Margin="4" DataContext="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsCapital, Mode=TwoWay}">
                                        <Grid.RowDefinitions>
                                            <RowDefinition />
                                            <RowDefinition />
                                        </Grid.RowDefinitions>
                                        <TextBlock
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Center"
                                            Text="#" />
                                        <TextBlock
                                            Grid.Row="1"
                                            HorizontalAlignment="Center"
                                            Text="3" />
                                    </Grid>
                                </lay:LayButton>
                                <lay:LayButton
                                    Grid.Column="10"
                                    Grid.ColumnSpan="2"
                                    BorderThickness="1"
                                    CommandParameter="$|4"
                                    DataContext="{Binding Source={x:Static Key.D4}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Type="Default">
                                    <Grid Margin="4" DataContext="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsCapital, Mode=TwoWay}">
                                        <Grid.RowDefinitions>
                                            <RowDefinition />
                                            <RowDefinition />
                                        </Grid.RowDefinitions>
                                        <TextBlock
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Center"
                                            Text="$" />
                                        <TextBlock
                                            Grid.Row="1"
                                            HorizontalAlignment="Center"
                                            Text="4" />
                                    </Grid>
                                </lay:LayButton>
                                <lay:LayButton
                                    Grid.Column="12"
                                    Grid.ColumnSpan="2"
                                    BorderThickness="1"
                                    CommandParameter="%|5"
                                    DataContext="{Binding Source={x:Static Key.D5}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Type="Default">
                                    <Grid Margin="4" DataContext="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsCapital, Mode=TwoWay}">
                                        <Grid.RowDefinitions>
                                            <RowDefinition />
                                            <RowDefinition />
                                        </Grid.RowDefinitions>
                                        <TextBlock
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Center"
                                            Text="%" />
                                        <TextBlock
                                            Grid.Row="1"
                                            HorizontalAlignment="Center"
                                            Text="5" />
                                    </Grid>
                                </lay:LayButton>
                                <lay:LayButton
                                    Grid.Column="14"
                                    Grid.ColumnSpan="2"
                                    BorderThickness="1"
                                    CommandParameter="^|6"
                                    DataContext="{Binding Source={x:Static Key.D6}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Type="Default">
                                    <Grid Margin="4" DataContext="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsCapital, Mode=TwoWay}">
                                        <Grid.RowDefinitions>
                                            <RowDefinition />
                                            <RowDefinition />
                                        </Grid.RowDefinitions>
                                        <TextBlock
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Center"
                                            Text="^" />
                                        <TextBlock
                                            Grid.Row="1"
                                            HorizontalAlignment="Center"
                                            Text="6" />
                                    </Grid>
                                </lay:LayButton>
                                <lay:LayButton
                                    Grid.Column="16"
                                    Grid.ColumnSpan="2"
                                    BorderThickness="1"
                                    CommandParameter="&amp;|7"
                                    DataContext="{Binding Source={x:Static Key.D7}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Type="Default">
                                    <Grid Margin="4" DataContext="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsCapital, Mode=TwoWay}">
                                        <Grid.RowDefinitions>
                                            <RowDefinition />
                                            <RowDefinition />
                                        </Grid.RowDefinitions>
                                        <TextBlock
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Center"
                                            Text="&amp;" />
                                        <TextBlock
                                            Grid.Row="1"
                                            HorizontalAlignment="Center"
                                            Text="7" />
                                    </Grid>
                                </lay:LayButton>
                                <lay:LayButton
                                    Grid.Column="18"
                                    Grid.ColumnSpan="2"
                                    BorderThickness="1"
                                    CommandParameter="*|8"
                                    DataContext="{Binding Source={x:Static Key.D8}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Type="Default">
                                    <Grid Margin="4" DataContext="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsCapital, Mode=TwoWay}">
                                        <Grid.RowDefinitions>
                                            <RowDefinition />
                                            <RowDefinition />
                                        </Grid.RowDefinitions>
                                        <TextBlock
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Center"
                                            Text="*" />
                                        <TextBlock
                                            Grid.Row="1"
                                            HorizontalAlignment="Center"
                                            Text="8" />
                                    </Grid>
                                </lay:LayButton>
                                <lay:LayButton
                                    Grid.Column="20"
                                    Grid.ColumnSpan="2"
                                    BorderThickness="1"
                                    CommandParameter="(|9"
                                    DataContext="{Binding Source={x:Static Key.D9}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Type="Default">
                                    <Grid Margin="4" DataContext="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsCapital, Mode=TwoWay}">
                                        <Grid.RowDefinitions>
                                            <RowDefinition />
                                            <RowDefinition />
                                        </Grid.RowDefinitions>
                                        <TextBlock
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Center"
                                            Text="(" />
                                        <TextBlock
                                            Grid.Row="1"
                                            HorizontalAlignment="Center"
                                            Text="9" />
                                    </Grid>
                                </lay:LayButton>
                                <lay:LayButton
                                    Grid.Column="22"
                                    Grid.ColumnSpan="2"
                                    BorderThickness="1"
                                    CommandParameter=")|0"
                                    DataContext="{Binding Source={x:Static Key.D0}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Type="Default">
                                    <Grid Margin="4" DataContext="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsCapital, Mode=TwoWay}">
                                        <Grid.RowDefinitions>
                                            <RowDefinition />
                                            <RowDefinition />
                                        </Grid.RowDefinitions>
                                        <TextBlock
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Center"
                                            Text=")" />
                                        <TextBlock
                                            Grid.Row="1"
                                            HorizontalAlignment="Center"
                                            Text="0" />
                                    </Grid>
                                </lay:LayButton>
                                <lay:LayButton
                                    Grid.Column="24"
                                    Grid.ColumnSpan="2"
                                    BorderThickness="1"
                                    CommandParameter="-|—"
                                    DataContext="{Binding Source={x:Static Key.OemMinus}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Type="Default">
                                    <Grid Margin="4" DataContext="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsCapital, Mode=TwoWay}">
                                        <Grid.RowDefinitions>
                                            <RowDefinition />
                                            <RowDefinition />
                                        </Grid.RowDefinitions>
                                        <TextBlock
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Center"
                                            Text="-" />
                                        <TextBlock
                                            Grid.Row="1"
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Top"
                                            Text="—" />
                                    </Grid>
                                </lay:LayButton>
                                <lay:LayButton
                                    Grid.Column="26"
                                    Grid.ColumnSpan="2"
                                    BorderThickness="1"
                                    CommandParameter="+|="
                                    DataContext="{Binding Source={x:Static Key.OemPlus}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Type="Default">
                                    <Grid Margin="4" DataContext="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsCapital, Mode=TwoWay}">
                                        <Grid.RowDefinitions>
                                            <RowDefinition />
                                            <RowDefinition />
                                        </Grid.RowDefinitions>
                                        <TextBlock
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Center"
                                            Text="+" />
                                        <TextBlock
                                            Grid.Row="1"
                                            HorizontalAlignment="Center"
                                            Text="=" />
                                    </Grid>
                                </lay:LayButton>
                                <lay:LayButton
                                    Grid.Column="28"
                                    Grid.ColumnSpan="4"
                                    BorderThickness="1"
                                    DataContext="{Binding Source={x:Static Key.Back}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Type="Default">
                                    <Grid Margin="4" DataContext="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsCapital, Mode=TwoWay}">
                                        <TextBlock
                                            Grid.Row="1"
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Center"
                                            Text="Backspace" />
                                    </Grid>
                                </lay:LayButton>
                            </ItemsControl>
                            <ItemsControl Grid.Row="1" Focusable="{TemplateBinding Focusable}">
                                <ItemsControl.ItemsPanel>
                                    <ItemsPanelTemplate>
                                        <Grid Focusable="{TemplateBinding Focusable}">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                        </Grid>
                                    </ItemsPanelTemplate>
                                </ItemsControl.ItemsPanel>
                                <lay:LayButton
                                    Grid.ColumnSpan="3"
                                    BorderThickness="1"
                                    DataContext="{Binding Source={x:Static Key.Tab}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Type="Default">
                                    <Grid Margin="4" DataContext="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsCapital, Mode=TwoWay}">
                                        <TextBlock
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Center"
                                            Text="Tab" />
                                    </Grid>
                                </lay:LayButton>
                                <lay:LayButton
                                    Grid.Column="3"
                                    Grid.ColumnSpan="2"
                                    BorderThickness="1"
                                    CommandParameter="Q|q"
                                    DataContext="{Binding Source={x:Static Key.Q}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Type="Default">
                                    <Grid Margin="4" DataContext="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsCapital, Mode=TwoWay}">
                                        <TextBlock
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Center"
                                            DataContext="letter"
                                            IsVisible="{Binding !$parent[Grid].DataContext}">
                                            <TextBlock.Styles>
                                                <Style Selector="TextBlock">
                                                    <Setter Property="Text" Value="q" />
                                                </Style>
                                            </TextBlock.Styles>
                                        </TextBlock>
                                        <TextBlock
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Center"
                                            DataContext="letter"
                                            IsVisible="{Binding $parent[Grid].DataContext}">
                                            <TextBlock.Styles>
                                                <Style Selector="TextBlock">
                                                    <Setter Property="Text" Value="Q" />
                                                </Style>
                                            </TextBlock.Styles>
                                        </TextBlock>
                                    </Grid>
                                </lay:LayButton>
                                <lay:LayButton
                                    Grid.Column="5"
                                    Grid.ColumnSpan="2"
                                    BorderThickness="1"
                                    CommandParameter="W|w"
                                    DataContext="{Binding Source={x:Static Key.W}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Type="Default">
                                    <Grid Margin="4" DataContext="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsCapital, Mode=TwoWay}">
                                        <TextBlock
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Center"
                                            IsVisible="{Binding !$parent[Grid].DataContext}">
                                            <TextBlock.Styles>
                                                <Style Selector="TextBlock">
                                                    <Setter Property="Text" Value="w" />
                                                </Style>
                                            </TextBlock.Styles>
                                        </TextBlock>
                                        <TextBlock
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Center"
                                            IsVisible="{Binding $parent[Grid].DataContext}">
                                            <TextBlock.Styles>
                                                <Style Selector="TextBlock">
                                                    <Setter Property="Text" Value="W" />
                                                </Style>
                                            </TextBlock.Styles>
                                        </TextBlock>
                                    </Grid>
                                </lay:LayButton>
                                <lay:LayButton
                                    Grid.Column="7"
                                    Grid.ColumnSpan="2"
                                    BorderThickness="1"
                                    CommandParameter="E|e"
                                    DataContext="{Binding Source={x:Static Key.E}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Type="Default">
                                    <Grid Margin="4" DataContext="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsCapital, Mode=TwoWay}">
                                        <TextBlock
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Center"
                                            IsVisible="{Binding !$parent[Grid].DataContext}">
                                            <TextBlock.Styles>
                                                <Style Selector="TextBlock">
                                                    <Setter Property="Text" Value="e" />
                                                </Style>
                                            </TextBlock.Styles>
                                        </TextBlock>
                                        <TextBlock
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Center"
                                            IsVisible="{Binding $parent[Grid].DataContext}">
                                            <TextBlock.Styles>
                                                <Style Selector="TextBlock">
                                                    <Setter Property="Text" Value="E" />
                                                </Style>
                                            </TextBlock.Styles>
                                        </TextBlock>
                                    </Grid>
                                </lay:LayButton>
                                <lay:LayButton
                                    Grid.Column="9"
                                    Grid.ColumnSpan="2"
                                    BorderThickness="1"
                                    CommandParameter="R|r"
                                    DataContext="{Binding Source={x:Static Key.R}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Type="Default">
                                    <Grid Margin="4" DataContext="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsCapital, Mode=TwoWay}">
                                        <TextBlock
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Center"
                                            IsVisible="{Binding !$parent[Grid].DataContext}">
                                            <TextBlock.Styles>
                                                <Style Selector="TextBlock">
                                                    <Setter Property="Text" Value="r" />
                                                </Style>
                                            </TextBlock.Styles>
                                        </TextBlock>
                                        <TextBlock
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Center"
                                            IsVisible="{Binding $parent[Grid].DataContext}">
                                            <TextBlock.Styles>
                                                <Style Selector="TextBlock">
                                                    <Setter Property="Text" Value="R" />
                                                </Style>
                                            </TextBlock.Styles>
                                        </TextBlock>
                                    </Grid>
                                </lay:LayButton>
                                <lay:LayButton
                                    Grid.Column="11"
                                    Grid.ColumnSpan="2"
                                    BorderThickness="1"
                                    CommandParameter="T|t"
                                    DataContext="{Binding Source={x:Static Key.T}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Type="Default">
                                    <Grid Margin="4" DataContext="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsCapital, Mode=TwoWay}">
                                        <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center">
                                            <TextBlock.Styles>
                                                <Style Selector="TextBlock">
                                                    <Setter Property="Text" Value="t" />
                                                </Style>
                                            </TextBlock.Styles>
                                        </TextBlock>
                                    </Grid>
                                </lay:LayButton>
                                <lay:LayButton
                                    Grid.Column="13"
                                    Grid.ColumnSpan="2"
                                    BorderThickness="1"
                                    CommandParameter="Y|y"
                                    DataContext="{Binding Source={x:Static Key.Y}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Type="Default">
                                    <Grid Margin="4" DataContext="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsCapital, Mode=TwoWay}">
                                        <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center">
                                            <TextBlock.Styles>
                                                <Style Selector="TextBlock">
                                                    <Setter Property="Text" Value="y" />
                                                </Style>
                                            </TextBlock.Styles>
                                        </TextBlock>
                                    </Grid>
                                </lay:LayButton>
                                <lay:LayButton
                                    Grid.Column="15"
                                    Grid.ColumnSpan="2"
                                    BorderThickness="1"
                                    CommandParameter="U|u"
                                    DataContext="{Binding Source={x:Static Key.U}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Type="Default">
                                    <Grid Margin="4" DataContext="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsCapital, Mode=TwoWay}">
                                        <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center">
                                            <TextBlock.Styles>
                                                <Style Selector="TextBlock">
                                                    <Setter Property="Text" Value="u" />
                                                </Style>
                                            </TextBlock.Styles>
                                        </TextBlock>
                                    </Grid>
                                </lay:LayButton>
                                <lay:LayButton
                                    Grid.Column="17"
                                    Grid.ColumnSpan="2"
                                    BorderThickness="1"
                                    CommandParameter="I|i"
                                    DataContext="{Binding Source={x:Static Key.I}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Type="Default">
                                    <Grid Margin="4" DataContext="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsCapital, Mode=TwoWay}">
                                        <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center">
                                            <TextBlock.Styles>
                                                <Style Selector="TextBlock">
                                                    <Setter Property="Text" Value="i" />
                                                </Style>
                                            </TextBlock.Styles>
                                        </TextBlock>
                                    </Grid>
                                </lay:LayButton>
                                <lay:LayButton
                                    Grid.Column="19"
                                    Grid.ColumnSpan="2"
                                    BorderThickness="1"
                                    CommandParameter="O|o"
                                    DataContext="{Binding Source={x:Static Key.O}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Type="Default">
                                    <Grid Margin="4" DataContext="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsCapital, Mode=TwoWay}">
                                        <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center">
                                            <TextBlock.Styles>
                                                <Style Selector="TextBlock">
                                                    <Setter Property="Text" Value="o" />
                                                </Style>
                                            </TextBlock.Styles>
                                        </TextBlock>
                                    </Grid>
                                </lay:LayButton>
                                <lay:LayButton
                                    Grid.Column="21"
                                    Grid.ColumnSpan="2"
                                    BorderThickness="1"
                                    CommandParameter="P|p"
                                    DataContext="{Binding Source={x:Static Key.P}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Type="Default">
                                    <Grid Margin="4" DataContext="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsCapital, Mode=TwoWay}">
                                        <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center">
                                            <TextBlock.Styles>
                                                <Style Selector="TextBlock">
                                                    <Setter Property="Text" Value="p" />
                                                </Style>
                                            </TextBlock.Styles>
                                        </TextBlock>
                                    </Grid>
                                </lay:LayButton>
                                <lay:LayButton
                                    Grid.Column="23"
                                    Grid.ColumnSpan="2"
                                    BorderThickness="1"
                                    CommandParameter="{}{|["
                                    DataContext="{Binding Source={x:Static Key.OemOpenBrackets}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Type="Default">
                                    <Grid Margin="4" DataContext="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsCapital, Mode=TwoWay}">
                                        <Grid.RowDefinitions>
                                            <RowDefinition />
                                            <RowDefinition />
                                        </Grid.RowDefinitions>
                                        <TextBlock
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Center"
                                            Text="{}{" />
                                        <TextBlock
                                            Grid.Row="1"
                                            HorizontalAlignment="Center"
                                            Text="[" />
                                    </Grid>
                                </lay:LayButton>
                                <lay:LayButton
                                    Grid.Column="25"
                                    Grid.ColumnSpan="2"
                                    BorderThickness="1"
                                    CommandParameter="{}}|]"
                                    DataContext="{Binding Source={x:Static Key.OemCloseBrackets}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Type="Default">
                                    <Grid Margin="4" DataContext="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsCapital, Mode=TwoWay}">
                                        <Grid.RowDefinitions>
                                            <RowDefinition />
                                            <RowDefinition />
                                        </Grid.RowDefinitions>
                                        <TextBlock
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Center"
                                            Text="{}}" />
                                        <TextBlock
                                            Grid.Row="1"
                                            HorizontalAlignment="Center"
                                            Text="]" />
                                    </Grid>
                                </lay:LayButton>
                                <lay:LayButton
                                    Grid.Column="27"
                                    Grid.ColumnSpan="2"
                                    BorderThickness="1"
                                    CommandParameter="||\"
                                    DataContext="{Binding Source={x:Static Key.OemBackslash}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Type="Default">
                                    <Grid Margin="4" DataContext="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsCapital, Mode=TwoWay}">
                                        <Grid.RowDefinitions>
                                            <RowDefinition />
                                            <RowDefinition />
                                        </Grid.RowDefinitions>
                                        <TextBlock
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Center"
                                            Text="|" />
                                        <TextBlock
                                            Grid.Row="1"
                                            HorizontalAlignment="Center"
                                            Text="\" />
                                    </Grid>
                                </lay:LayButton>
                                <lay:LayButton
                                    Grid.Column="29"
                                    Grid.ColumnSpan="2"
                                    BorderThickness="1"
                                    DataContext="{Binding Source={x:Static Key.Delete}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Type="Default">
                                    <Grid Margin="4" DataContext="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsCapital, Mode=TwoWay}">
                                        <TextBlock
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Center"
                                            Text="Del" />
                                    </Grid>
                                </lay:LayButton>
                            </ItemsControl>
                            <ItemsControl Grid.Row="2" Focusable="{TemplateBinding Focusable}">
                                <ItemsControl.ItemsPanel>
                                    <ItemsPanelTemplate>
                                        <Grid Focusable="{TemplateBinding Focusable}">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                        </Grid>
                                    </ItemsPanelTemplate>
                                </ItemsControl.ItemsPanel>
                                <CheckBox
                                    Grid.ColumnSpan="4"
                                    HorizontalAlignment="Stretch"
                                    VerticalAlignment="Stretch"
                                    BorderThickness="1"
                                    CornerRadius="2"
                                    Cursor="Hand"
                                    DataContext="{Binding Source={x:Static Key.CapsLock}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Foreground="White"
                                    IsChecked="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsCapital}">
                                    <CheckBox.Template>
                                        <ControlTemplate>
                                            <Border
                                                Background="{DynamicResource Green}"
                                                BorderBrush="{TemplateBinding BorderBrush}"
                                                BorderThickness="1"
                                                CornerRadius="{TemplateBinding CornerRadius}">
                                                <ContentPresenter Content="{TemplateBinding Content}" />
                                            </Border>
                                        </ControlTemplate>
                                    </CheckBox.Template>
                                    <Grid Margin="4" DataContext="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsCapital, Mode=TwoWay}">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="auto" />
                                            <ColumnDefinition />
                                        </Grid.ColumnDefinitions>
                                        <Ellipse
                                            Width="5"
                                            Height="5"
                                            Fill="White"
                                            IsVisible="{Binding $parent[Grid].DataContext}" />
                                        <TextBlock
                                            Grid.ColumnSpan="2"
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Center"
                                            Text="Caps" />
                                    </Grid>
                                </CheckBox>
                                <lay:LayButton
                                    Grid.Column="4"
                                    Grid.ColumnSpan="2"
                                    BorderThickness="1"
                                    CommandParameter="A|a"
                                    DataContext="{Binding Source={x:Static Key.A}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Type="Default">
                                    <Grid Margin="4" DataContext="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsCapital, Mode=TwoWay}">
                                        <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center">
                                            <TextBlock.Styles>
                                                <Style Selector="TextBlock">
                                                    <Setter Property="Text" Value="a" />
                                                </Style>
                                            </TextBlock.Styles>
                                        </TextBlock>
                                    </Grid>
                                </lay:LayButton>
                                <lay:LayButton
                                    Grid.Column="6"
                                    Grid.ColumnSpan="2"
                                    BorderThickness="1"
                                    CommandParameter="S|s"
                                    DataContext="{Binding Source={x:Static Key.S}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Type="Default">
                                    <Grid Margin="4" DataContext="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsCapital, Mode=TwoWay}">
                                        <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center">
                                            <TextBlock.Styles>
                                                <Style Selector="TextBlock">
                                                    <Setter Property="Text" Value="s" />
                                                </Style>
                                            </TextBlock.Styles>
                                        </TextBlock>
                                    </Grid>
                                </lay:LayButton>
                                <lay:LayButton
                                    Grid.Column="8"
                                    Grid.ColumnSpan="2"
                                    BorderThickness="1"
                                    CommandParameter="D|d"
                                    DataContext="{Binding Source={x:Static Key.D}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Type="Default">
                                    <Grid Margin="4" DataContext="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsCapital, Mode=TwoWay}">
                                        <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center">
                                            <TextBlock.Styles>
                                                <Style Selector="TextBlock">
                                                    <Setter Property="Text" Value="d" />
                                                </Style>
                                            </TextBlock.Styles>
                                        </TextBlock>
                                    </Grid>
                                </lay:LayButton>
                                <lay:LayButton
                                    Grid.Column="10"
                                    Grid.ColumnSpan="2"
                                    BorderThickness="1"
                                    CommandParameter="F|f"
                                    DataContext="{Binding Source={x:Static Key.F}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Type="Default">
                                    <Grid Margin="4" DataContext="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsCapital, Mode=TwoWay}">
                                        <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center">
                                            <TextBlock.Styles>
                                                <Style Selector="TextBlock">
                                                    <Setter Property="Text" Value="f" />
                                                </Style>
                                            </TextBlock.Styles>
                                        </TextBlock>
                                    </Grid>
                                </lay:LayButton>
                                <lay:LayButton
                                    Grid.Column="12"
                                    Grid.ColumnSpan="2"
                                    BorderThickness="1"
                                    CommandParameter="G|g"
                                    DataContext="{Binding Source={x:Static Key.G}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Type="Default">
                                    <Grid Margin="4" DataContext="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsCapital, Mode=TwoWay}">
                                        <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center">
                                            <TextBlock.Styles>
                                                <Style Selector="TextBlock">
                                                    <Setter Property="Text" Value="g" />
                                                </Style>
                                            </TextBlock.Styles>
                                        </TextBlock>
                                    </Grid>
                                </lay:LayButton>
                                <lay:LayButton
                                    Grid.Column="14"
                                    Grid.ColumnSpan="2"
                                    BorderThickness="1"
                                    CommandParameter="H|h"
                                    DataContext="{Binding Source={x:Static Key.H}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Type="Default">
                                    <Grid Margin="4" DataContext="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsCapital, Mode=TwoWay}">
                                        <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center">
                                            <TextBlock.Styles>
                                                <Style Selector="TextBlock">
                                                    <Setter Property="Text" Value="h" />
                                                </Style>
                                            </TextBlock.Styles>
                                        </TextBlock>
                                    </Grid>
                                </lay:LayButton>
                                <lay:LayButton
                                    Grid.Column="16"
                                    Grid.ColumnSpan="2"
                                    BorderThickness="1"
                                    CommandParameter="J|j"
                                    DataContext="{Binding Source={x:Static Key.J}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Type="Default">
                                    <Grid Margin="4" DataContext="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsCapital, Mode=TwoWay}">
                                        <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center">
                                            <TextBlock.Styles>
                                                <Style Selector="TextBlock">
                                                    <Setter Property="Text" Value="j" />
                                                </Style>
                                            </TextBlock.Styles>
                                        </TextBlock>
                                    </Grid>
                                </lay:LayButton>
                                <lay:LayButton
                                    Grid.Column="18"
                                    Grid.ColumnSpan="2"
                                    BorderThickness="1"
                                    CommandParameter="K|k"
                                    DataContext="{Binding Source={x:Static Key.K}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Type="Default">
                                    <Grid Margin="4" DataContext="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsCapital, Mode=TwoWay}">
                                        <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center">
                                            <TextBlock.Styles>
                                                <Style Selector="TextBlock">
                                                    <Setter Property="Text" Value="k" />
                                                </Style>
                                            </TextBlock.Styles>
                                        </TextBlock>
                                    </Grid>
                                </lay:LayButton>
                                <lay:LayButton
                                    Grid.Column="20"
                                    Grid.ColumnSpan="2"
                                    BorderThickness="1"
                                    CommandParameter="L|l"
                                    DataContext="{Binding Source={x:Static Key.L}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Type="Default">
                                    <Grid Margin="4" DataContext="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsCapital, Mode=TwoWay}">
                                        <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center">
                                            <TextBlock.Styles>
                                                <Style Selector="TextBlock">
                                                    <Setter Property="Text" Value="l" />
                                                </Style>
                                            </TextBlock.Styles>
                                        </TextBlock>
                                    </Grid>
                                </lay:LayButton>
                                <lay:LayButton
                                    Grid.Column="22"
                                    Grid.ColumnSpan="2"
                                    BorderThickness="1"
                                    CommandParameter=":|;"
                                    DataContext="{Binding Source={x:Static Key.OemSemicolon}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Type="Default">
                                    <Grid Margin="4" DataContext="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsCapital, Mode=TwoWay}">
                                        <Grid.RowDefinitions>
                                            <RowDefinition />
                                            <RowDefinition />
                                        </Grid.RowDefinitions>
                                        <TextBlock
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Center"
                                            Text=":" />
                                        <TextBlock
                                            Grid.Row="1"
                                            HorizontalAlignment="Center"
                                            Text=";" />
                                    </Grid>
                                </lay:LayButton>
                                <lay:LayButton
                                    Grid.Column="24"
                                    Grid.ColumnSpan="2"
                                    BorderThickness="1"
                                    CommandParameter="&quot;|'"
                                    DataContext="{Binding Source={x:Static Key.OemQuotes}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Type="Default">
                                    <Grid Margin="4" DataContext="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsCapital, Mode=TwoWay}">
                                        <Grid.RowDefinitions>
                                            <RowDefinition />
                                            <RowDefinition />
                                        </Grid.RowDefinitions>
                                        <TextBlock
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Center"
                                            Text="&quot;" />
                                        <TextBlock
                                            Grid.Row="1"
                                            HorizontalAlignment="Center"
                                            Text="'" />
                                    </Grid>
                                </lay:LayButton>
                                <lay:LayButton
                                    Grid.Column="26"
                                    Grid.ColumnSpan="5"
                                    BorderThickness="1"
                                    DataContext="{Binding Source={x:Static Key.Enter}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Type="Default">
                                    <Grid Margin="4" DataContext="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsCapital, Mode=TwoWay}">
                                        <TextBlock
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Center"
                                            Text="Enter" />
                                    </Grid>
                                </lay:LayButton>
                            </ItemsControl>
                            <ItemsControl Grid.Row="3" Focusable="{TemplateBinding Focusable}">
                                <ItemsControl.ItemsPanel>
                                    <ItemsPanelTemplate>
                                        <Grid Focusable="{TemplateBinding Focusable}">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                        </Grid>
                                    </ItemsPanelTemplate>
                                </ItemsControl.ItemsPanel>
                                <CheckBox
                                    Grid.ColumnSpan="5"
                                    HorizontalAlignment="Stretch"
                                    VerticalAlignment="Stretch"
                                    BorderThickness="1"
                                    DataContext="{Binding Source={x:Static Key.LeftShift}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Foreground="White"
                                    IsChecked="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsShift}">
                                    <CheckBox.Template>
                                        <ControlTemplate>
                                            <Border
                                                Background="{DynamicResource Green}"
                                                BorderBrush="{TemplateBinding BorderBrush}"
                                                BorderThickness="1"
                                                CornerRadius="{TemplateBinding CornerRadius}">
                                                <ContentPresenter Content="{TemplateBinding Content}" />
                                            </Border>
                                        </ControlTemplate>
                                    </CheckBox.Template>
                                    <Grid Margin="4" DataContext="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsShift, Mode=TwoWay}">
                                        <Ellipse
                                            Width="5"
                                            Height="5"
                                            HorizontalAlignment="Left"
                                            Fill="White"
                                            IsVisible="{Binding $parent[Grid].DataContext}" />
                                        <TextBlock
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Center"
                                            Text="Shift" />
                                    </Grid>
                                </CheckBox>
                                <lay:LayButton
                                    Grid.Column="5"
                                    Grid.ColumnSpan="2"
                                    BorderThickness="1"
                                    CommandParameter="Z|z"
                                    DataContext="{Binding Source={x:Static Key.Z}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Type="Default">
                                    <Grid Margin="4" DataContext="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsCapital, Mode=TwoWay}">
                                        <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center">
                                            <TextBlock.Styles>
                                                <Style Selector="TextBlock">
                                                    <Setter Property="Text" Value="z" />
                                                </Style>
                                            </TextBlock.Styles>
                                        </TextBlock>
                                    </Grid>
                                </lay:LayButton>
                                <lay:LayButton
                                    Grid.Column="7"
                                    Grid.ColumnSpan="2"
                                    BorderThickness="1"
                                    CommandParameter="X|x"
                                    DataContext="{Binding Source={x:Static Key.X}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Type="Default">
                                    <Grid Margin="4" DataContext="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsCapital, Mode=TwoWay}">
                                        <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center">
                                            <TextBlock.Styles>
                                                <Style Selector="TextBlock">
                                                    <Setter Property="Text" Value="x" />
                                                </Style>
                                            </TextBlock.Styles>
                                        </TextBlock>
                                    </Grid>
                                </lay:LayButton>
                                <lay:LayButton
                                    Grid.Column="9"
                                    Grid.ColumnSpan="2"
                                    BorderThickness="1"
                                    CommandParameter="C|c"
                                    DataContext="{Binding Source={x:Static Key.C}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Type="Default">
                                    <Grid Margin="4" DataContext="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsCapital, Mode=TwoWay}">
                                        <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center">
                                            <TextBlock.Styles>
                                                <Style Selector="TextBlock">
                                                    <Setter Property="Text" Value="c" />
                                                </Style>
                                            </TextBlock.Styles>
                                        </TextBlock>
                                    </Grid>
                                </lay:LayButton>
                                <lay:LayButton
                                    Grid.Column="11"
                                    Grid.ColumnSpan="2"
                                    BorderThickness="1"
                                    CommandParameter="V|v"
                                    DataContext="{Binding Source={x:Static Key.V}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Type="Default">
                                    <Grid Margin="4" DataContext="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsCapital, Mode=TwoWay}">
                                        <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center">
                                            <TextBlock.Styles>
                                                <Style Selector="TextBlock">
                                                    <Setter Property="Text" Value="V" />
                                                </Style>
                                            </TextBlock.Styles>
                                        </TextBlock>
                                    </Grid>
                                </lay:LayButton>
                                <lay:LayButton
                                    Grid.Column="13"
                                    Grid.ColumnSpan="2"
                                    BorderThickness="1"
                                    CommandParameter="B|b"
                                    DataContext="{Binding Source={x:Static Key.B}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Type="Default">
                                    <Grid Margin="4" DataContext="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsCapital, Mode=TwoWay}">
                                        <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center">
                                            <TextBlock.Styles>
                                                <Style Selector="TextBlock">
                                                    <Setter Property="Text" Value="b" />
                                                </Style>
                                            </TextBlock.Styles>
                                        </TextBlock>
                                    </Grid>
                                </lay:LayButton>
                                <lay:LayButton
                                    Grid.Column="15"
                                    Grid.ColumnSpan="2"
                                    BorderThickness="1"
                                    CommandParameter="N|n"
                                    DataContext="{Binding Source={x:Static Key.N}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Type="Default">
                                    <Grid Margin="4" DataContext="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsCapital, Mode=TwoWay}">
                                        <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center">
                                            <TextBlock.Styles>
                                                <Style Selector="TextBlock">
                                                    <Setter Property="Text" Value="n" />
                                                </Style>
                                            </TextBlock.Styles>
                                        </TextBlock>
                                    </Grid>
                                </lay:LayButton>
                                <lay:LayButton
                                    Grid.Column="17"
                                    Grid.ColumnSpan="2"
                                    BorderThickness="1"
                                    CommandParameter="M|m"
                                    DataContext="{Binding Source={x:Static Key.M}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Type="Default">
                                    <Grid Margin="4" DataContext="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsCapital, Mode=TwoWay}">
                                        <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center">
                                            <TextBlock.Styles>
                                                <Style Selector="TextBlock">
                                                    <Setter Property="Text" Value="e" />
                                                </Style>
                                            </TextBlock.Styles>
                                        </TextBlock>
                                    </Grid>
                                </lay:LayButton>
                                <lay:LayButton
                                    Grid.Column="19"
                                    Grid.ColumnSpan="2"
                                    BorderThickness="1"
                                    CommandParameter="&lt;|,"
                                    DataContext="{Binding Source={x:Static Key.OemComma}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Type="Default">
                                    <Grid Margin="4" DataContext="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsCapital, Mode=TwoWay}">
                                        <Grid.RowDefinitions>
                                            <RowDefinition />
                                            <RowDefinition />
                                        </Grid.RowDefinitions>
                                        <TextBlock
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Center"
                                            Text="&lt;" />
                                        <TextBlock
                                            Grid.Row="1"
                                            HorizontalAlignment="Center"
                                            Text="," />
                                    </Grid>
                                </lay:LayButton>
                                <lay:LayButton
                                    Grid.Column="21"
                                    Grid.ColumnSpan="2"
                                    BorderThickness="1"
                                    CommandParameter="&gt;|."
                                    DataContext="{Binding Source={x:Static Key.OemPeriod}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Type="Default">
                                    <Grid Margin="4" DataContext="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsCapital, Mode=TwoWay}">
                                        <Grid.RowDefinitions>
                                            <RowDefinition />
                                            <RowDefinition />
                                        </Grid.RowDefinitions>
                                        <TextBlock
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Center"
                                            Text="&gt;" />
                                        <TextBlock
                                            Grid.Row="1"
                                            HorizontalAlignment="Center"
                                            Text="." />
                                    </Grid>
                                </lay:LayButton>
                                <lay:LayButton
                                    Grid.Column="23"
                                    Grid.ColumnSpan="2"
                                    BorderThickness="1"
                                    CommandParameter="?|/"
                                    DataContext="{Binding Source={x:Static Key.OemQuestion}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Type="Default">
                                    <Grid Margin="4" DataContext="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsCapital, Mode=TwoWay}">
                                        <Grid.RowDefinitions>
                                            <RowDefinition />
                                            <RowDefinition />
                                        </Grid.RowDefinitions>
                                        <TextBlock
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Center"
                                            Text="?" />
                                        <TextBlock
                                            Grid.Row="1"
                                            HorizontalAlignment="Center"
                                            Text="/" />
                                    </Grid>
                                </lay:LayButton>
                                <CheckBox
                                    Grid.Column="25"
                                    Grid.ColumnSpan="6"
                                    HorizontalAlignment="Stretch"
                                    VerticalAlignment="Stretch"
                                    BorderThickness="1"
                                    DataContext="{Binding Source={x:Static Key.RightShift}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Foreground="White"
                                    IsChecked="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsShift}">
                                    <CheckBox.Template>
                                        <ControlTemplate>
                                            <Border
                                                Background="{DynamicResource Green}"
                                                BorderBrush="{TemplateBinding BorderBrush}"
                                                BorderThickness="1"
                                                CornerRadius="{TemplateBinding CornerRadius}">
                                                <ContentPresenter Content="{TemplateBinding Content}" />
                                            </Border>
                                        </ControlTemplate>
                                    </CheckBox.Template>
                                    <Grid Margin="4" DataContext="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsShift, Mode=TwoWay}">
                                        <Ellipse
                                            Width="5"
                                            Height="5"
                                            HorizontalAlignment="Right"
                                            Fill="White"
                                            IsVisible="{Binding $parent[Grid].DataContext}" />
                                        <TextBlock
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Center"
                                            Text="Shift" />
                                    </Grid>
                                </CheckBox>
                            </ItemsControl>
                            <ItemsControl
                                Grid.Row="4"
                                Height="55"
                                Focusable="{TemplateBinding Focusable}">
                                <ItemsControl.ItemsPanel>
                                    <ItemsPanelTemplate>
                                        <Grid Focusable="{TemplateBinding Focusable}">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                        </Grid>
                                    </ItemsPanelTemplate>
                                </ItemsControl.ItemsPanel>
                                <lay:LayButton
                                    Grid.ColumnSpan="2"
                                    BorderThickness="1"
                                    DataContext="{Binding Source={x:Static Key.LeftCtrl}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Type="Default">
                                    <Grid Margin="4" DataContext="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsCapital, Mode=TwoWay}">

                                        <TextBlock
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Center"
                                            Text="Ctrl" />
                                    </Grid>
                                </lay:LayButton>
                                <lay:LayButton
                                    Grid.Column="2"
                                    Grid.ColumnSpan="2"
                                    BorderThickness="1"
                                    DataContext="{Binding Source={x:Static Key.LWin}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Type="Default">
                                    <Grid Margin="4" DataContext="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsCapital, Mode=TwoWay}">
                                        <Path
                                            Width="20"
                                            Height="15"
                                            Data="M424.43466,399.74806 C493.42392,446.14577 563.97372,480.18709 726.09103,424.73311 L650.42978,687.97658 C491.2883,753.80891 414.88821,716.5616 345.99005,669.84767 z M236.37262,321.17564 C298.32809,322.06227 341.99701,345.62209 382.83728,373.34572 L303.39697,646.3904 C234.37805,599.95894 159.31342,561.75478 0,627.61378 L77.643356,357.52541 78.567398,357.12733 C143.03073,330.57668 193.98203,320.56902 236.37262,321.17564 z M515.85379,82.143463 C584.67416,128.51048 661.08035,165.45695 820.06839,99.756622 L741.74142,370.81508 C589.30154,439.02663 506.19272,400.75801 437.42551,354.13008 z M324.21539,0.010238647 C388.18082,0.58680725 432.70175,25.404709 474.46207,53.649506 L396.05737,324.12367 C354.54489,296.15364 309.85916,270.01021 246.38962,269.54152 204.52515,269.21919 154.6799,281.12944 91.378174,307.27287 L169.789,35.520615 C229.48856,10.837326 277.55893,0.65579224 317.96393,0.030822754 320.06836,-0.0017242432 322.15198,-0.0083465576 324.21539,0.010238647 z"
                                            Fill="{Binding RelativeSource={RelativeSource AncestorType=lay:LayButton}, Path=Foreground}"
                                            Stretch="Fill" />
                                    </Grid>
                                </lay:LayButton>
                                <lay:LayButton
                                    Grid.Column="4"
                                    Grid.ColumnSpan="2"
                                    BorderThickness="1"
                                    DataContext="{Binding Source={x:Static Key.LeftAlt}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Type="Default">
                                    <Grid Margin="4" DataContext="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsCapital, Mode=TwoWay}">
                                        <TextBlock
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Center"
                                            Text="Alt" />
                                    </Grid>
                                </lay:LayButton>
                                <lay:LayButton
                                    Grid.Column="6"
                                    Grid.ColumnSpan="17"
                                    BorderThickness="1"
                                    CommandParameter=" | "
                                    DataContext="{Binding Source={x:Static Key.Space}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Type="Default">
                                    <Path
                                        Height="1.5"
                                        MaxWidth="200"
                                        Margin="10"
                                        Data="M0,0 L1024,0 L1024,2 L0,2 z"
                                        Fill="{Binding RelativeSource={RelativeSource AncestorType=lay:LayButton}, Path=Foreground}"
                                        Stretch="Fill" />
                                </lay:LayButton>
                                <lay:LayButton
                                    Grid.Column="23"
                                    Grid.ColumnSpan="2"
                                    BorderThickness="1"
                                    DataContext="{Binding Source={x:Static Key.RightAlt}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Type="Default">
                                    <Grid Margin="4" DataContext="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsCapital, Mode=TwoWay}">
                                        <TextBlock
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Center"
                                            Text="Alt" />
                                    </Grid>
                                </lay:LayButton>
                                <lay:LayButton
                                    Grid.Column="25"
                                    Grid.ColumnSpan="2"
                                    BorderThickness="1"
                                    DataContext="{Binding Source={x:Static Key.Home}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Type="Default">
                                    <Grid Margin="4" DataContext="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsCapital, Mode=TwoWay}">
                                        <TextBlock
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Center"
                                            Text="Home" />
                                    </Grid>
                                </lay:LayButton>
                                <lay:LayButton
                                    Grid.Column="27"
                                    Grid.ColumnSpan="2"
                                    BorderThickness="1"
                                    DataContext="{Binding Source={x:Static Key.End}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Type="Default">
                                    <Grid Margin="4" DataContext="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsCapital, Mode=TwoWay}">
                                        <TextBlock
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Center"
                                            Text="End" />
                                    </Grid>
                                </lay:LayButton>
                                <lay:LayButton
                                    Grid.Column="29"
                                    Grid.ColumnSpan="2"
                                    BorderThickness="1"
                                    DataContext="{Binding Source={x:Static Key.RightCtrl}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Type="Default">
                                    <Grid Margin="4" DataContext="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsCapital, Mode=TwoWay}">
                                        <TextBlock
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Center"
                                            Text="Ctrl" />
                                    </Grid>
                                </lay:LayButton>
                            </ItemsControl>
                        </Grid>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
</Styles>
